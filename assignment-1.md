# 📖 2024-2 오픈소스 소프트웨어 기초 (CLTR0794-001) TEAM 1

## 👩‍👩‍👧‍👦 팀원 정보

|전공|학번|이름|Github 계정|
|---|---|---|---|
|컴퓨터학부 심화컴퓨터전공|2020113486|김대건|[toothlessdev](https://github.com/toothlessdev)|
|컴퓨터학부 심화컴퓨터전공|2020115983|최기영|[gogumalatte](https://github.com/gogumalatte)|
|컴퓨터학부 글로벌SW융합전공|2021112334|김가희|[zzkim](https://github.com/zzkim)|
|컴퓨터학부 심화컴퓨터전공|2020116651|조현준|[HyunJunCho00](https://github.com/HyunJunCho00)|

## 📖 제목

### ✏️ 1. 개요

#### 1.1. 소제목
어떤 소프트웨어인지 대략적인 소개

### ✏️ 2. 라이선스

#### 2.1. 소제목
회사 및 가격(예: 오토캐드 250만원/연) 또는 오픈소스(예: Apach 2.0) 등 

### ✏️ 3. 주요 기능

#### 3.1. 소제목
- 팀원별 1개 기능 이상 작성할 것 
- 일반적인 기능(파일 저장, 인쇄, 편집 등) 제외
- 특별한 기능 위주로 설명 (이미지 포함 가능)

### 3.1. 도커 레지스트리(Docker Registry)
**도커 레지스트리(Docker Registry)**는 도커 이미지를 저장하고, 공유하며, 관리할 수 있는 중앙 저장소 역할을 합니다. 도커의 이미지 관리 시스템에서 중요한 역할을 하며, 이를 통해 사용자와 팀은 컨테이너 이미지를 저장하고 여러 환경에 배포할 수 있습니다.

#### 도커 레지스트리의 핵심 구성 요소

1. **도커 이미지(Docker Image)**:  
   도커 이미지란 애플리케이션과 그 실행에 필요한 모든 파일, 라이브러리, 설정 등을 포함한 패키지입니다. 이 이미지를 기반으로 컨테이너가 실행되며, 이미지가 레지스트리에 저장됩니다.

2. **도커 허브(Docker Hub)**:  
   도커 허브는 가장 대표적인 공공 도커 레지스트리입니다. 사용자는 도커 허브를 통해 수많은 공개 이미지에 접근할 수 있으며, 자신이 만든 이미지를 업로드하고 공유할 수도 있습니다. 도커 허브에는 다양한 공식 이미지(예: Nginx, MySQL, Python 등)가 제공됩니다.

3. **프라이빗 레지스트리(Private Registry)**:  
   도커는 공용 레지스트리뿐만 아니라, 기업이나 팀이 내부적으로 이미지를 관리할 수 있도록 프라이빗 레지스트리를 운영할 수 있게 지원합니다. 이를 통해 보안이 중요한 환경에서 외부에 노출되지 않는 이미지 저장소를 구축할 수 있습니다.

#### 도커 레지스트리의 주요 기능

1. **이미지 저장 및 관리**:  
   도커 레지스트리는 사용자가 만든 이미지를 중앙에서 저장하고 관리할 수 있는 시스템을 제공합니다. 이미지는 버전 관리가 가능하며, 각 버전마다 태그(tag)를 붙여서 특정 버전으로 컨테이너를 배포할 수 있습니다. 예를 들어, `myapp:1.0`, `myapp:2.0`처럼 이미지 버전을 구분하여 저장할 수 있습니다.

2. **이미지 배포 및 공유**:  
   레지스트리를 통해 팀 내 또는 외부와 이미지를 공유할 수 있습니다. 공개 레지스트리에서는 누구나 이미지를 다운로드하여 사용할 수 있으며, 프라이빗 레지스트리를 이용하면 권한이 있는 사용자만 접근할 수 있습니다.

3. **도커 CLI를 통한 손쉬운 푸시/풀(Push/Pull)**:  
   도커는 명령줄 인터페이스(CLI)를 통해 손쉽게 레지스트리에 이미지를 업로드(푸시)하거나 다운로드(풀)할 수 있습니다. 예를 들어:
   - `docker push <레포지토리명>:<태그>` 명령을 사용하여 이미지를 레지스트리에 업로드
   - `docker pull <레포지토리명>:<태그>` 명령을 사용하여 이미지를 로컬로 다운로드

4. **이미지 버전 관리 및 태깅(Tagging)**:  
   이미지의 버전을 태그로 관리할 수 있습니다. 동일한 이미지에 대해 여러 버전을 유지하고 각 버전 간의 차이를 관리할 수 있습니다. `latest` 태그는 가장 최신 버전을 나타내며, 특정 버전 태그를 통해 안정된 버전을 사용할 수 있습니다.

5. **레지스트리 관리 및 보안 설정**:  
   프라이빗 레지스트리를 운영하는 경우, 관리자는 사용자 인증, 권한 관리, TLS 인증서 등을 통해 레지스트리의 보안을 강화할 수 있습니다. 도커는 HTTPS를 지원하여 이미지를 안전하게 전송할 수 있게 하며, 접근을 통제할 수 있습니다.

#### 도커 레지스트리와 레포지토리의 구조

- **레지스트리(Registry)**: 전체 이미지를 관리하는 저장소 시스템입니다. 도커 허브가 대표적인 예입니다.
- **레포지토리(Repository)**: 특정 애플리케이션이나 서비스에 대한 이미지 집합입니다. 예를 들어, `nginx`는 Nginx 웹 서버의 여러 버전 이미지를 포함한 레포지토리입니다.
- **이미지(Image)**: 애플리케이션을 실행하기 위한 파일 시스템과 실행 환경을 포함하는 패키지입니다. 하나의 레포지토리 안에 여러 버전의 이미지가 저장될 수 있습니다.

#### 도커 레지스트리와 CI/CD

도커 레지스트리는 CI/CD 파이프라인의 중요한 요소로도 사용됩니다. 개발자가 코드를 수정하고, 자동으로 이미지를 빌드한 후, 이를 도커 레지스트리에 업로드하면, 배포 서버가 이를 자동으로 받아 실행합니다. 이 방식은 개발과 배포의 효율성을 극대화할 수 있습니다.

#### 도커 레지스트리 관련 명령어 예시

- **이미지 푸시(Push)**
   ```bash
   docker push <레지스트리>/<레포지토리>:<태그>
   ```
   도커 이미지를 레지스트리에 업로드합니다.
  
- **이미지 풀(Pull)**
   ```bash
   docker pull <레지스트리>/<레포지토리>:<태그>
   ```
   레지스트리에서 이미지를 내려받습니다.

- **프라이빗 레지스트리 실행**  
   로컬에서 프라이빗 레지스트리를 실행할 수 있습니다:
   ```bash
   docker run -d -p 5000:5000 --name registry registry:2
   ```

도커 레지스트리는 도커 생태계의 중요한 구성 요소로, 이미지를 쉽게 저장하고 관리하며 배포할 수 있는 핵심 도구입니다.

### 3.2. 도커의 이미지 레이어링(Docker Image Layering)

**도커 이미지 레이어링(Docker Image Layering)**은 도커 이미지가 여러 레이어(layer)로 구성되어 효율적인 저장 및 배포가 가능하게 만드는 도커의 중요한 기술입니다. 도커 이미지의 각 레이어는 불변이며, 변경 사항이 발생하면 새로운 레이어가 추가됩니다. 이를 통해 이미지를 효율적으로 관리하고, 불필요한 중복 저장을 방지할 수 있습니다.

#### 도커 이미지 레이어링의 핵심 개념

1. **불변성 (Immutability)**:
   도커 이미지의 각 레이어는 불변입니다. 레이어가 한 번 생성되면 변경할 수 없고, 새로운 변경 사항은 기존 레이어 위에 새로운 레이어를 추가하여 관리됩니다. 이렇게 함으로써 이미지의 일관성을 유지하고, 변경 사항만 저장하여 저장 공간을 절약할 수 있습니다.

2. **캐시 활용 (Layer Caching)**:
   도커는 이미 존재하는 레이어를 재사용함으로써 빌드 시간을 크게 단축시킵니다. 새로운 이미지를 빌드할 때, 기존 이미지와 동일한 레이어는 캐시에서 가져와 재사용하며, 변경된 부분만 새롭게 빌드됩니다. 이로 인해 애플리케이션 업데이트 시 불필요한 빌드를 방지할 수 있습니다.

3. **층별 저장 (Layered Storage)**:
   도커 이미지는 파일 시스템 스냅샷과 유사하게 동작합니다. 예를 들어, 기본 운영체제 레이어 위에 애플리케이션 종속성, 소스 코드 등 각기 다른 레이어가 추가됩니다. 여러 이미지가 동일한 기본 레이어를 공유할 수 있어 저장 공간을 절약할 수 있습니다.

4. **최소화된 데이터 전송 (Efficient Data Transfer)**:
   도커 이미지가 레이어로 나뉘어 있기 때문에, 이미지를 전송할 때 전체 이미지를 다시 전송하지 않고, 변경된 레이어만 전송됩니다. 이는 네트워크 대역폭을 절약하고, 배포 속도를 높이는 데 중요한 역할을 합니다.

#### 도커 이미지 레이어링의 주요 기능

- **이미지 빌드 최적화**:
  도커 파일에서 각 명령(RUN, COPY 등)은 새로운 레이어를 생성합니다. 명령을 최적화하여 불필요한 레이어 생성을 방지하고, 빌드 속도를 높일 수 있습니다.

- **레이어의 공유 및 재사용**:
  여러 이미지가 동일한 레이어를 공유함으로써 저장 공간을 절약하고, 중복된 데이터를 줄일 수 있습니다. 예를 들어, 동일한 운영체제나 라이브러리 레이어를 여러 애플리케이션 이미지에서 재사용할 수 있습니다.

- **빌드 변경 사항 최소화**:
  이미지의 상위 레이어만 변경된 경우, 하위 레이어는 다시 빌드하지 않고 캐시에서 재사용합니다. 이는 애플리케이션 빌드 시간을 크게 줄이고, 효율적인 CI/CD 파이프라인 운영을 가능하게 합니다.

#### 도커 이미지 레이어링 관련 명령어 예시

1. **이미지 빌드**:
   `docker build -t <이미지명> .` 명령을 사용하여 도커 파일을 기반으로 이미지를 빌드합니다. 도커 파일의 각 명령은 새로운 레이어를 생성하며, 변경된 레이어만 새롭게 빌드됩니다.

2. **이미지 확인**:
   `docker history <이미지ID>` 명령을 사용하여 이미지가 몇 개의 레이어로 이루어져 있는지, 각 레이어가 어떤 명령어로 생성되었는지 확인할 수 있습니다.

도커 이미지 레이어링은 이미지의 효율적인 저장과 배포를 가능하게 하며, 이를 통해 개발과 배포 과정에서 높은 성능을 제공합니다.


### 3.4. 도커의 다중 플랫폼 지원(Multi-platform Support)
도커의 다중 플랫폼 지원 기능은 여러 운영 체제와 아키텍처에서 컨테이너를 빌드하고 실행할 수 있게 해줍니다. 이를 통해 개발자는 다양한 환경에서 애플리케이션을 쉽게 배포할 수 있습니다. 다음은 다중 플랫폼 지원의 주요 기능 및 개념입니다.

#### 주요 기능

1. **다중 아키텍처 빌드(Multi-architecture Builds)**:
   도커는 다양한 CPU 아키텍처(x86, ARM, ARM64 등)에서 실행될 수 있는 이미지를 생성할 수 있습니다. 이는 개발자가 여러 플랫폼에서 애플리케이션을 테스트하고 배포할 수 있도록 도와줍니다. 예를 들어, docker buildx 명령어를 사용하여 여러 아키텍처에 대한 이미지를 동시에 빌드할 수 있습니다.

2. **Buildx 빌드도구**:
   buildx는 도커의 확장된 빌드 도구로, 여러 플랫폼에 대한 이미지를 생성할 수 있는 기능을 제공합니다. 사용자는 --platform 플래그를 통해 특정 아키텍처 및 운영 체제를 지정하여 이미지를 빌드할 수 있습니다.

```bash
docker buildx build --platform linux/amd64,linux/arm64 -t myimage:latest .
```
3. **다중 플랫폼 이미지(Multi-platform Images)**:
   다중 플랫폼 이미지는 여러 아키텍처의 다양한 버전을 포함하는 하나의 이미지입니다. 이러한 이미지를 사용하면 도커는 실행 중인 플랫폼에 맞는 올바른 버전을 자동으로 선택합니다. 이 기능은 manifest를 통해 구현되며, 도커는 이미지의 메타데이터를 관리하여 다양한 아키텍처의 이미지를 하나의 레지스트리에 푸시하고 풀 수 있습니다.

4. **플랫폼 감지(Platform Detection)**:
   도커는 컨테이너를 실행할 때 자동으로 현재 플랫폼을 감지하여 해당 플랫폼에 맞는 이미지를 선택합니다. 이로 인해 개발자는 특정 플랫폼에 맞춰 이미지를 수동으로 선택할 필요가 없습니다.

5. **Docker Desktop의 통합**:
   Docker Desktop에서는 다중 플랫폼 빌드를 보다 쉽게 사용할 수 있도록 GUI와 CLI 도구가 통합되어 있습니다. 사용자는 몇 번의 클릭으로 다양한 플랫폼 이미지를 빌드할 수 있습니다.

6. **Cross-architecture 컨테이너 실행**: 
   도커는 호스트 플랫폼과 다른 아키텍처의 컨테이너를 실행할 수 있도록 지원합니다. 예를 들어, ARM 아키텍처의 이미지를 x86 아키텍처에서 실행할 수 있습니다. 이 기능은 *QEMU*와 같은 에뮬레이터를 활용하여 가능합니다.
   
   - **QEMU(Quick Emulator) 개념**:
     다양한 CPU 아키텍처를 에뮬레이션하는 오픈 소스 소프트웨어로, 도커의 Cross-architecture 컨테이너 실행에서 중요한 역할을 합니다. 주요 기능은 다음과 같습니다:

   1. **다양한 아키텍처 지원**: QEMU는 x86, ARM, PowerPC 등 다양한 아키텍처에서 소프트웨어를 실행할 수 있도록 CPU 명령어를 변환합니다.

   2. **에뮬레이션 모드**:
   3. **전체 시스템 에뮬레이션**:
   QEMU는 전체 가상 컴퓨터를 에뮬레이션하여 서로 다른 아키텍처에서 운영 체제를 실행할 수 있습니다.
   4. **사용자 모드 에뮬레이션**: 특정 애플리케이션이 다른 아키텍처에서 실행될 수 있도록 지원합니다.
   5. **도커와의 통합**: 도커는 QEMU와 통합되어 ARM 등의 이미지를 x86 호스트에서 실행할 수 있습니다. 예를 들어, --platform linux/arm64 플래그를 사용하여 ARM 이미지를 실행할 수 있습니다.
   
   6. **개발 및 테스트**:
   QEMU는 물리적 장비 없이 다양한 아키텍처에서 애플리케이션을 개발하고 테스트하는 데 유용합니다.
   
   7. **KVM과의 조합**: QEMU는 KVM과 함께 사용될 때 성능을 개선하여 네이티브 성능에 가까운 가상화가 가능합니다.
   
   이러한 기능 덕분에 QEMU는 도커의 다중 플랫폼 지원을 가능하게 하여, 다양한 환경에서 애플리케이션을 실행하고 테스트할 수 있게 해줍니다.

#### 주요 특징

1. **Docker Desktop의 통합**:
Docker Desktop에서는 다중 플랫폼 빌드를 보다 쉽게 사용할 수 있도록 GUI와 CLI 도구가 통합되어 있습니다. 사용자는 몇 번의 클릭으로 다양한 플랫폼 이미지를 빌드할 수 있습니다.

2. **Docker Hub의 지원**:
Docker Hub는 다중 플랫폼 이미지를 지원하며, 사용자가 한 레포지토리에 여러 아키텍처의 이미지를 저장하고 관리할 수 있도록 돕습니다.

3. **개발 및 CI/CD 환경 지원**:
다중 플랫폼 지원은 CI/CD 파이프라인에서 다양한 환경에 대한 자동화를 가능하게 합니다. 이를 통해 코드 변경 사항이 여러 아키텍처에 대해 자동으로 테스트되고 배포될 수 있습니다.

이러한 기능들은 도커를 사용하여 애플리케이션을 다양한 환경에 배포하는 과정을 간소화하고, 플랫폼 간의 호환성을 높이는 데 큰 도움을 줍니다.
